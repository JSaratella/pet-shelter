(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),l=c(52),i=c.n(l),r=(c(59),c(60),c(61),c(92),c(3)),o=c(4),j=c(5),d=c.n(j),b=function(e){var t=Object(s.useState)([]),c=Object(o.a)(t,2),a=c[0],l=c[1],i=Object(s.useState)(!1),j=Object(o.a)(i,2),b=j[0];j[1];return Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets").then((function(e){return l(e.data.results)})).catch((function(e){return console.log(e)}))}),[b]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(r.a,{to:"/new",children:"add a pet to the shelter"}),Object(n.jsx)("h4",{children:"These pets are looking for a good home"}),Object(n.jsxs)("table",{className:"table table-hover col-6 mx-auto",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Type"}),Object(n.jsx)("th",{children:"Actions"})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.type}),Object(n.jsxs)("td",{children:[Object(n.jsx)(r.a,{to:"/details/".concat(e._id),children:"details"})," |",Object(n.jsx)(r.a,{to:"/edit/".concat(e._id),children:"edit"})]})]},t)}))})]})]})},h=c(12),u=c(14),p=function(e){var t=e.form,c=e.errors,s=e.handleInputChange,a=e.handleSubmit,l=e.submitValue;return console.log(t),Object(n.jsxs)("form",{className:"col-6 mx-auto",onSubmit:a,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"name",children:"Pet Name:"}),Object(n.jsx)("input",{type:"text",name:"name",className:"form-control",value:t.name,onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:c.name?c.name.message:""})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"type",children:"Pet Type:"}),Object(n.jsx)("input",{type:"text",name:"type",className:"form-control",value:t.type,onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:c.type?c.type.message:""})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"description",children:"Pet Description:"}),Object(n.jsx)("input",{type:"text",name:"description",className:"form-control",value:t.description,onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:c.description?c.description.message:""})]}),Object(n.jsx)("h6",{children:"Skills (optional):"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"skill1",children:"Skill 1:"}),Object(n.jsx)("input",{type:"text",name:"skill1",className:"form-control",value:t.skill1,onChange:s})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"skill2",children:"Skill 2:"}),Object(n.jsx)("input",{type:"text",name:"skill2",className:"form-control",value:t.skill2,onChange:s})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"skill3",children:"Skill 3:"}),Object(n.jsx)("input",{type:"text",name:"skill3",className:"form-control",value:t.skill3,onChange:s})]}),Object(n.jsx)("input",{type:"submit",value:l,className:"btn btn-info"})]})},O=function(e){var t=Object(s.useState)({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),c=Object(o.a)(t,2),a=c[0],l=c[1],i=Object(s.useState)({name:"",type:"",description:""}),j=Object(o.a)(i,2),b=j[0],O=j[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"text-center",children:"Know a pet needing a home?"}),Object(n.jsx)(p,{form:a,handleInputChange:function(e){l(Object(u.a)(Object(u.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:8000/api/pets/create",a).then((function(e){e.data.results?Object(r.c)("/"):O(e.data)}))},errors:b,submitValue:"Add Pet"})]})},m=void 0,x=function(e){var t=Object(s.useState)(null),c=Object(o.a)(t,2),a=c[0],l=c[1],i=Object(s.useState)(!1),j=Object(o.a)(i,2),b=j[0],h=j[1];Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets/".concat(e.id)).then((function(e){return l(e.data.results)})).catch((function(e){return console.log(e)}))}),[e]),Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets").then((function(e){return h(e.data.results)})).catch((function(e){return console.log(e)}))}),[b]);var u=function(e){m.setState({likes:m.state.likes+1})};return a?Object(n.jsxs)("div",{className:"card col-6 mx-auto",children:[Object(n.jsxs)("h3",{children:["Details about: ",a.name]}),Object(n.jsxs)("button",{onClick:function(){return e=a._id,t=a.name,void d.a.delete("http://localhost:8000/api/pets/destroy/".concat(e)).then((function(e){e.data.results&&(h(!b),Object(r.c)("/"),console.log("".concat(t," was adopted!!")))})).catch((function(e){return console.log(e)}));var e,t},className:"btn btn-danger",children:["Adopt ",a.name]}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("p",{className:"card-text",children:["Pet type: ",a.type]}),Object(n.jsxs)("p",{className:"card-text",children:["Description: ",a.description]}),Object(n.jsxs)("p",{className:"card-text",children:["Skills: ",a.skill1,Object(n.jsx)("br",{})," ",a.skill2," ",Object(n.jsx)("br",{})," ",a.skill3]}),Object(n.jsxs)("button",{onClick:function(){return u},className:"btn btn-success",children:["Like ",a.name]}),Object(n.jsx)("p",{children:" like(s)"})]})]}):Object(n.jsx)("p",{children:"Loading..."})},f=function(e){var t=Object(s.useState)({name:"",type:"",description:"",skill1:"",skill2:"",skill3:""}),c=Object(o.a)(t,2),a=c[0],l=c[1],i=Object(s.useState)({name:"",type:"",description:""}),j=Object(o.a)(i,2),b=j[0],O=j[1];Object(s.useEffect)((function(){d.a.get("http://localhost:8000/api/pets/".concat(e.id)).then((function(e){return l(e.data.results)})).catch((function(e){return console.log(e)}))}),[e]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"text-center",children:"Edit Pet"}),Object(n.jsx)(p,{form:a,errors:b,handleInputChange:function(e){l(Object(u.a)(Object(u.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))},submitValue:"Edit Pet",handleSubmit:function(t){t.preventDefault(),d.a.put("http://localhost:8000/api/pets/update/".concat(e.id),a).then((function(e){e.data.results?Object(r.c)("/"):O(e.data)}))}})]})};var g=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(n.jsx)("h1",{children:"Pet Shelter"}),Object(n.jsx)(r.a,{to:"/",children:"back to home"})]}),Object(n.jsxs)(r.b,{children:[Object(n.jsx)(b,{path:"/"}),Object(n.jsx)(O,{path:"/new"}),Object(n.jsx)(x,{path:"/details/:id"}),Object(n.jsx)(f,{path:"/edit/:id"})]})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,115)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,l=t.getTTFB;c(e),n(e),s(e),a(e),l(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),v()},59:function(e,t,c){},60:function(e,t,c){}},[[114,1,2]]]);
//# sourceMappingURL=main.6db9e658.chunk.js.map